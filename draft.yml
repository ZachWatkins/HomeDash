models:
  Part:
    status: enum:active,inactive default:active index
    number: string:100 index
    name: string:100
    sku: string:100
    inventory: integer
    price: decimal:8,2
    weight: decimal:8,2
    weight_unit: string:10
    filename: string:100
    published_at: nullable timestamp
    softDeletes
    relationships:
      belongsTo: PartType, Manufacturer
      hasOne: PartWebpage
      hasMany: OrderItem, PartPhoto, Monitor
  PartType:
    name: string:100
    softDeletes
    relationships:
      hasMany: Part
  PartWebpage:
    status: enum:active,inactive default:active index
    path: string:100
    title: string:100
    meta_title: string:100
    meta_description: string:255
    meta_keywords: string:255
    content: text
    relationships:
      belongsTo: Part
  ShoppingCart:
    relationships:
      belongsTo: Customer
      hasMany: OrderItem
  Order:
    number: integer default:1 index
    status: enum:paid,processing,shipped,delivered,canceled,returned,partially_refunded,refunded,completed default:paid index
    total: decimal:10,2
    notes: text
    relationships:
      belongsTo: Customer, CustomerPaymentMethod, CustomerShippingAddress, CustomerBillingAddress
      hasOne: ShoppingCart
      hasMany: OrderItem
    indexes:
      - unique: customer_id, number
  OrderItem:
    quantity: integer
    price: decimal:8,2
    relationships:
      belongsTo: Order, Part
  Customer:
    phone: string:20
    shipping_street_1: string:100
    shipping_street_2: string:100
    shipping_city: string:100
    shipping_state: string:100
    shipping_zip_code: string:10
    shipping_instructions: string:500
    billing_street_1: string:100
    billing_street_2: string:100
    billing_city: string:100
    billing_state: string:100
    billing_zip_code: string:10
    billing_card_name: string:100
    billing_card_number: string:20
    billing_card_expiration: string:5
    billing_card_cvv: string:3
    relationships:
      belongsTo: User
      hasOne: Order:shopping_cart
      hasMany: Order
  Manufacturer:
    name: string:100
    website: string:100
    phone: string:20
    filename: string:100
    softDeletes
    relationships:
      hasMany: Part
  Monitor:
    active: boolean default:true
    threshold: integer default:10
    relationships:
      hasMany: Part, MonitorSubscriber
  MonitorSubscriber:
    name: string:100
    email: string:100
    relationships:
      belongsTo: Monitor

controllers:
  Part:
    resource: paginate:parts
  PartWebpage:
    resource
  Customer:
    resource
  ShoppingCart:
    resource: all
    order:
      find: shopping_cart.id
  Order:
    resource: index, show
  Monitor:
    resource
  MonitorSubscriber:
    resource

seeders: PartType, City, State
